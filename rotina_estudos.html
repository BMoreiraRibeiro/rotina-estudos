<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotina de Estudos - Exames Janeiro 2025</title>
    <!-- Inline SVG favicon (same as main page) -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%238b5cf6'/%3E%3Ctext x='50' y='60' font-size='56' text-anchor='middle' fill='white'%3E%F0%9F%93%9A%3C/text%3E%3C/svg%3E">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #0f1624;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            border: 1px solid #1e293b;
        }
        
        h1 {
            color: #8b5cf6;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        
        h2 {
            color: #a78bfa;
        }
        
        h3 {
            color: #c4b5fd;
        }
        
        .subtitle {
            text-align: center;
            color: #94a3b8;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .progress-section {
            background: #1e293b;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid #334155;
        }
        
        .progress-item {
            margin-bottom: 15px;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: 600;
            color: #e2e8f0;
        }
        
        .progress-bar-container {
            width: 100%;
            height: 25px;
            background: #334155;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6, #a78bfa);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .week-schedule {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .day-card {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
        }
        
        .day-card h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }
        
        .study-block {
            background: rgba(255,255,255,0.15);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .study-block:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-2px);
        }
        
        .study-block.completed {
            background: rgba(34, 197, 94, 0.3);
            text-decoration: line-through;
        }
        
        .time {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        
        .subject {
            font-size: 0.95em;
        }
        
        .tips-section {
            background: #1e293b;
            border-left: 4px solid #8b5cf6;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid #334155;
        }
        
        .tips-section h3 {
            color: #a78bfa;
            margin-bottom: 15px;
        }
        
        .tips-section ul {
            margin-left: 20px;
        }
        
        .tips-section li {
            margin-bottom: 8px;
            color: #e2e8f0;
        }
        
        .tips-section strong {
            color: #fbbf24;
        }
        
        /* Specific color schemes for different tip sections */
        .tips-section.green-theme {
            background: #d1fae5;
            border-left-color: #10b981;
            border-color: #10b981;
        }
        
        .tips-section.green-theme h3 {
            color: #065f46;
        }
        
        .tips-section.green-theme li {
            color: #047857;
        }
        
        .tips-section.green-theme strong {
            color: #065f46;
        }
        
        .tips-section.yellow-theme {
            background: #fef3c7;
            border-left-color: #f59e0b;
            border-color: #f59e0b;
        }
        
        .tips-section.yellow-theme h3 {
            color: #92400e;
        }
        
        .tips-section.yellow-theme li {
            color: #78350f;
        }
        
        .tips-section.yellow-theme strong {
            color: #92400e;
        }
        
        .tips-section.blue-theme {
            background: #1e3a8a;
            border-left-color: #3b82f6;
            border-color: #3b82f6;
        }
        
        .tips-section.blue-theme h3 {
            color: #93c5fd;
        }
        
        .tips-section.blue-theme li {
            color: #dbeafe;
        }
        
        .tips-section.blue-theme strong {
            color: #60a5fa;
        }
        
        .countdown {
            text-align: center;
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(220, 38, 38, 0.3);
        }
        
        .countdown-number {
            font-size: 3em;
            font-weight: bold;
            display: block;
        }
        
        .rotation-schedule {
            background: #1e293b;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid #334155;
        }
        
        .rotation-schedule h3 {
            color: #a78bfa;
            margin-bottom: 15px;
        }
        
        .rotation-item {
            background: #0f1624;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 4px solid #8b5cf6;
        }
        
        .week-label {
            font-weight: bold;
            color: #a78bfa;
            margin-bottom: 5px;
        }
        
        button {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 5px;
            box-shadow: 0 4px 10px rgba(139, 92, 246, 0.3);
        }
        
        button:hover {
            transform: scale(1.05);
        }
        
        .button-group {
            text-align: center;
            margin-top: 20px;
        }
        
        select {
            background: #1e293b;
            color: #e2e8f0;
            border: 2px solid #8b5cf6;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
        }
        
        select option {
            background: #1e293b;
            color: #e2e8f0;
        }
        
        a {
            color: #a78bfa;
        }
        
        .pesta-task {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px;
            background: #0f1624;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .pesta-task:hover {
            background: #1e293b;
        }
        
        .pesta-task input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            cursor: pointer;
            accent-color: #10b981;
        }
        
        .pesta-task label {
            cursor: pointer;
            flex: 1;
            user-select: none;
        }
        
        .pesta-task input[type="checkbox"]:checked + label {
            text-decoration: line-through;
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìö Rotina de Estudos</h1>
        <p class="subtitle">√âpoca de Exames: 19 Janeiro - 14 Fevereiro 2026</p>
        
        <div class="countdown">
            <span class="countdown-number" id="daysLeft">--</span>
            <span>dias at√© o in√≠cio dos exames</span>
        </div>
        
        <!-- PESTA Side Quest Section -->
        <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); padding: 25px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(245, 158, 11, 0.4); border: 2px solid #fbbf24;">
            <h2 style="color: #fff; margin-bottom: 15px; text-align: center;">üéÆ SIDE QUEST: Projeto PESTA</h2>
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-bottom: 15px; backdrop-filter: blur(10px);">
                <h3 style="color: #fef3c7; margin-bottom: 10px;">üéØ Torre Autom√°tica de Airsoft</h3>
                <p style="color: #fef3c7; margin-bottom: 10px;"><strong>Componentes:</strong> Raspberry Pi + C√¢mara + Modelo CV + Base girat√≥ria motorizada + Estrutura custom</p>
                <p style="color: #fef3c7;"><strong>üö® URGENTE:</strong> Email para orientador at√© fim de <strong>NOVEMBRO</strong> (<span id="pestaDeadline">--</span> dias restantes!)</p>
            </div>
            <button onclick="togglePestaOrganizer()" style="width: 100%; background: #fff; color: #d97706; font-weight: bold; font-size: 1.1em;">
                üìã Abrir Organizador PESTA
            </button>
        </div>
        
        <!-- PESTA Organizer Modal -->
        <div id="pestaOrganizer" style="display: none; background: #0f1624; border: 2px solid #f59e0b; border-radius: 15px; padding: 25px; margin-bottom: 30px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="color: #fbbf24; margin: 0;">üìã Organizador Projeto PESTA</h2>
                <button onclick="togglePestaOrganizer()" style="background: #dc2626; padding: 8px 15px;">‚úï Fechar</button>
            </div>
            
            <!-- Timeline -->
            <div style="background: #1e293b; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #f59e0b;">
                <h3 style="color: #fbbf24; margin-bottom: 15px;">‚è∞ Timeline do Projeto</h3>
                <div style="display: grid; gap: 15px;">
                    <div style="background: #0f1624; padding: 15px; border-radius: 8px; border-left: 4px solid #dc2626;">
                        <div style="color: #fca5a5; font-weight: bold; margin-bottom: 5px;">üî¥ AT√â 30 NOV - Email Orientador</div>
                        <div style="color: #cbd5e1; font-size: 0.9em;">Enviar proposta + ter resposta positiva</div>
                    </div>
                    <div style="background: #0f1624; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <div style="color: #fcd34d; font-weight: bold; margin-bottom: 5px;">üü° DEZ-JAN - Planeamento</div>
                        <div style="color: #cbd5e1; font-size: 0.9em;">Diagrama arquitetura + Lista componentes + Or√ßamento</div>
                    </div>
                    <div style="background: #0f1624; padding: 15px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                        <div style="color: #93c5fd; font-weight: bold; margin-bottom: 5px;">üîµ FEV-MAR - Desenvolvimento</div>
                        <div style="color: #cbd5e1; font-size: 0.9em;">Construir estrutura + Treinar modelo CV + Integrar hardware</div>
                    </div>
                    <div style="background: #0f1624; padding: 15px; border-radius: 8px; border-left: 4px solid #10b981;">
                        <div style="color: #6ee7b7; font-weight: bold; margin-bottom: 5px;">üü¢ ABR-MAI - Finaliza√ß√£o</div>
                        <div style="color: #cbd5e1; font-size: 0.9em;">Testes + Relat√≥rio + Poster</div>
                    </div>
                </div>
            </div>
            
            <!-- Task Categories -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 20px;">
                <!-- Email & Orientador -->
                <div style="background: #1e293b; padding: 15px; border-radius: 10px; border-top: 3px solid #dc2626;">
                    <h4 style="color: #fca5a5; margin-bottom: 15px;">üìß Email & Orientador</h4>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-1" onchange="savePestaState()">
                        <label for="pesta-1" style="color: #e2e8f0;">Definir tema exato (‚úì feito!)</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-2" onchange="savePestaState()">
                        <label for="pesta-2" style="color: #e2e8f0;">Escrever email proposta</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-3" onchange="savePestaState()">
                        <label for="pesta-3" style="color: #e2e8f0;">Identificar 2-3 docentes poss√≠veis</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-4" onchange="savePestaState()">
                        <label for="pesta-4" style="color: #e2e8f0;">Enviar email (AT√â 30 NOV!)</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-5" onchange="savePestaState()">
                        <label for="pesta-5" style="color: #e2e8f0;">Obter resposta positiva</label>
                    </div>
                </div>
                
                <!-- Hardware & Estrutura -->
                <div style="background: #1e293b; padding: 15px; border-radius: 10px; border-top: 3px solid #8b5cf6;">
                    <h4 style="color: #c4b5fd; margin-bottom: 15px;">üîß Hardware & Estrutura</h4>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-6" onchange="savePestaState()">
                        <label for="pesta-6" style="color: #e2e8f0;">Desenhar estrutura base (CAD?)</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-7" onchange="savePestaState()">
                        <label for="pesta-7" style="color: #e2e8f0;">Lista completa de componentes</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-8" onchange="savePestaState()">
                        <label for="pesta-8" style="color: #e2e8f0;">Or√ßamento e compras</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-9" onchange="savePestaState()">
                        <label for="pesta-9" style="color: #e2e8f0;">Construir estrutura f√≠sica</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-10" onchange="savePestaState()">
                        <label for="pesta-10" style="color: #e2e8f0;">Integrar base girat√≥ria motorizada</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-11" onchange="savePestaState()">
                        <label for="pesta-11" style="color: #e2e8f0;">Montar sistema de disparo</label>
                    </div>
                </div>
                
                <!-- Software & CV -->
                <div style="background: #1e293b; padding: 15px; border-radius: 10px; border-top: 3px solid #3b82f6;">
                    <h4 style="color: #93c5fd; margin-bottom: 15px;">üíª Software & CV</h4>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-12" onchange="savePestaState()">
                        <label for="pesta-12" style="color: #e2e8f0;">Setup Raspberry Pi + OS</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-13" onchange="savePestaState()">
                        <label for="pesta-13" style="color: #e2e8f0;">Testar c√¢mara e captura v√≠deo</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-14" onchange="savePestaState()">
                        <label for="pesta-14" style="color: #e2e8f0;">Recolher dataset (jogador vs n√£o-jogador)</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-15" onchange="savePestaState()">
                        <label for="pesta-15" style="color: #e2e8f0;">Anotar/label dataset</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-16" onchange="savePestaState()">
                        <label for="pesta-16" style="color: #e2e8f0;">Escolher modelo (YOLO? MobileNet?)</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-17" onchange="savePestaState()">
                        <label for="pesta-17" style="color: #e2e8f0;">Treinar modelo de dete√ß√£o</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-18" onchange="savePestaState()">
                        <label for="pesta-18" style="color: #e2e8f0;">Otimizar para Raspberry Pi</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-19" onchange="savePestaState()">
                        <label for="pesta-19" style="color: #e2e8f0;">C√≥digo controlo motores</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-20" onchange="savePestaState()">
                        <label for="pesta-20" style="color: #e2e8f0;">Integra√ß√£o CV + controlo f√≠sico</label>
                    </div>
                </div>
                
                <!-- Documenta√ß√£o -->
                <div style="background: #1e293b; padding: 15px; border-radius: 10px; border-top: 3px solid #10b981;">
                    <h4 style="color: #6ee7b7; margin-bottom: 15px;">üìÑ Documenta√ß√£o</h4>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-21" onchange="savePestaState()">
                        <label for="pesta-21" style="color: #e2e8f0;">Estrutura do relat√≥rio</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-22" onchange="savePestaState()">
                        <label for="pesta-22" style="color: #e2e8f0;">Introdu√ß√£o + Estado da Arte</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-23" onchange="savePestaState()">
                        <label for="pesta-23" style="color: #e2e8f0;">Metodologia + Arquitetura</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-24" onchange="savePestaState()">
                        <label for="pesta-24" style="color: #e2e8f0;">Implementa√ß√£o (print screens, diagramas)</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-25" onchange="savePestaState()">
                        <label for="pesta-25" style="color: #e2e8f0;">Testes e Resultados</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-26" onchange="savePestaState()">
                        <label for="pesta-26" style="color: #e2e8f0;">Conclus√µes + Trabalho Futuro</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-27" onchange="savePestaState()">
                        <label for="pesta-27" style="color: #e2e8f0;">Criar poster cient√≠fico</label>
                    </div>
                    <div class="pesta-task">
                        <input type="checkbox" id="pesta-28" onchange="savePestaState()">
                        <label for="pesta-28" style="color: #e2e8f0;">Revis√£o final relat√≥rio</label>
                    </div>
                </div>
            </div>
            
            <!-- Quick Notes -->
            <div style="background: #1e293b; padding: 20px; border-radius: 10px; border-left: 4px solid #fbbf24;">
                <h3 style="color: #fbbf24; margin-bottom: 15px;">üìù Notas R√°pidas</h3>
                <textarea id="pestaNotesInput" placeholder="Adiciona notas, ideias, links √∫teis aqui..." style="width: 100%; min-height: 100px; background: #0f1624; color: #e2e8f0; border: 1px solid #334155; border-radius: 8px; padding: 15px; font-family: inherit; font-size: 1em; resize: vertical;" onchange="savePestaState()"></textarea>
                <div style="margin-top: 15px; padding: 15px; background: #0f1624; border-radius: 8px;">
                    <div style="color: #cbd5e1; font-size: 0.9em; margin-bottom: 10px;"><strong>üí° Recursos √∫teis:</strong></div>
                    <div style="color: #94a3b8; font-size: 0.85em; line-height: 1.6;">
                        ‚Ä¢ YOLO: <a href="https://github.com/ultralytics/yolov5" target="_blank" style="color: #60a5fa;">ultralytics/yolov5</a><br>
                        ‚Ä¢ MobileNet: <a href="https://github.com/tensorflow/models/tree/master/research/object_detection" target="_blank" style="color: #60a5fa;">TensorFlow Object Detection</a><br>
                        ‚Ä¢ Dataset annotation: <a href="https://www.makesense.ai/" target="_blank" style="color: #60a5fa;">makesense.ai</a> ou <a href="https://github.com/tzutalin/labelImg" target="_blank" style="color: #60a5fa;">labelImg</a><br>
                        ‚Ä¢ Raspberry Pi GPIO: <a href="https://gpiozero.readthedocs.io/" target="_blank" style="color: #60a5fa;">gpiozero docs</a><br>
                        ‚Ä¢ Servos/Motores: <a href="https://learn.adafruit.com/adafruit-16-channel-pwm-servo-hat-for-raspberry-pi" target="_blank" style="color: #60a5fa;">Adafruit Servo HAT</a>
                    </div>
                </div>
            </div>
            
            <!-- Progress Summary -->
            <div style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); padding: 20px; border-radius: 10px; margin-top: 20px; text-align: center;">
                <div style="color: #fff; font-size: 1.1em; margin-bottom: 10px;">Progresso Total PESTA</div>
                <div style="background: rgba(255,255,255,0.2); border-radius: 10px; height: 30px; overflow: hidden; margin-bottom: 10px;">
                    <div id="pestaProgressBar" style="background: #10b981; height: 100%; width: 0%; transition: width 0.3s; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;"></div>
                </div>
                <div style="color: #e2e8f0;"><span id="pestaProgressText">0/28 tarefas</span> conclu√≠das</div>
            </div>
        </div>
        
        <div class="button-group">
            <button onclick="updateProgress(5)">‚úÖ Sess√£o Completa (+5%)</button>
            <button onclick="resetProgress()">üîÑ Reiniciar Progresso</button>
            <button onclick="downloadSchedule()">üíæ Guardar Plano</button>
            <button onclick="window.open('https://pomofocus.io/', '_blank')" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);">‚è±Ô∏è Abrir Pomodoro Timer</button>
        </div>
        
        <div style="background: #422006; padding: 20px; border-radius: 15px; margin-top: 20px; margin-bottom: 30px; border-left: 4px solid #f59e0b; border: 1px solid #78350f;">
            <h3 style="color: #fcd34d; margin-bottom: 15px;">‚è±Ô∏è T√©cnica Pomodoro - Como Usar</h3>
            <div style="color: #fef3c7;">
                <p style="margin-bottom: 10px;"><strong>Para cada sess√£o de estudo (2h):</strong></p>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li>üçÖ 25 minutos de estudo focado</li>
                    <li>‚òï 5 minutos de pausa</li>
                    <li>üîÅ Repetir 4 vezes</li>
                    <li>üéâ Pausa longa de 15-30 min ap√≥s 4 pomodoros</li>
                </ul>
                <p style="margin-bottom: 10px;"><strong>Durante os 25 minutos:</strong> Foco total! Telem√≥vel longe, notifica√ß√µes off.</p>
                <p style="margin-bottom: 10px;"><strong>Durante a pausa:</strong> Levanta-te, bebe √°gua, estica, olha para longe do ecr√£.</p>
                <p><a href="https://pomofocus.io/" target="_blank" style="color: #fcd34d; font-weight: bold; text-decoration: underline;">üëâ Clica aqui para abrir o Pomodoro Timer</a></p>
            </div>
        </div>
        
        <div class="progress-section">
            <h3 style="margin-bottom: 20px; color: #a78bfa;">üìä Progresso Geral</h3>
            <div class="progress-item">
                <div class="progress-label">
                    <span>‚ö° Eletromagnetismo</span>
                    <span id="electro-percent">0%</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="electro-bar" style="width: 0%">0%</div>
                </div>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span>üîå Eletr√≥nica de Pot√™ncia</span>
                    <span id="power-percent">0%</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="power-bar" style="width: 0%">0%</div>
                </div>
            </div>
            <div class="progress-item">
                <div class="progress-label">
                    <span>üåä VIBON (Vibra√ß√µes e Ondas)</span>
                    <span id="vibon-percent">0%</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="vibon-bar" style="width: 0%">0%</div>
                </div>
            </div>
        </div>
        
        <!-- PESTA PROJECT SECTION -->
        <div style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); padding: 25px; border-radius: 15px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(220, 38, 38, 0.4);">
            <h3 style="color: #fef2f2; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                üéØ SIDE QUEST: Projeto PESTA - Torre Autom√°tica de Airsoft
                <button onclick="togglePestaDetails()" style="background: rgba(255,255,255,0.2); padding: 8px 15px; font-size: 0.9em; margin-left: auto;">
                    <span id="pestaToggleIcon">‚ñº</span> Detalhes
                </button>
            </h3>
            <p style="color: #fecaca; margin-bottom: 20px; font-size: 0.95em;">
                ‚ö†Ô∏è <strong>URGENTE AT√â FIM NOVEMBRO:</strong> Enviar email + conseguir resposta positiva de orientador ISEP!
            </p>
            
            <div id="pestaDetails" style="display: none;">
                <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="color: #fef2f2; margin-bottom: 15px;">üìã Vis√£o Geral do Projeto</h4>
                    <div style="color: #fecaca;">
                        <p style="margin-bottom: 10px;"><strong>Sistema:</strong> Torre autom√°tica de airsoft com tracking de jogadores</p>
                        <p style="margin-bottom: 10px;"><strong>Componentes principais:</strong></p>
                        <ul style="margin-left: 20px; margin-bottom: 15px;">
                            <li>üîß Base fixa com componentes eletr√≥nicos</li>
                            <li>üîÑ Plataforma girat√≥ria para a arma</li>
                            <li>üñ•Ô∏è Raspberry Pi (controlo e processamento)</li>
                            <li>üì∑ C√¢mara + Modelo de Computer Vision</li>
                            <li>üéØ Dete√ß√£o: Jogador vs N√£o-jogador</li>
                        </ul>
                        <p style="margin-bottom: 10px;"><strong>Entregas:</strong> Relat√≥rio pormenorizado + Poster + Sistema funcional</p>
                        <p><strong>A teu cargo:</strong> Estrutura mec√¢nica + Treino do modelo IA + Integra√ß√£o</p>
                    </div>
                </div>
                
                <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                    <h4 style="color: #fef2f2; margin-bottom: 15px;">‚úÖ Task Manager - Projeto PESTA</h4>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                            <input type="text" id="pestaTaskInput" placeholder="Nova tarefa do projeto..." style="flex: 1; padding: 10px; border-radius: 8px; background: #1e293b; color: #e2e8f0; border: 2px solid #dc2626;">
                            <button onclick="addPestaTask()" style="background: #10b981; padding: 10px 20px;">‚ûï Adicionar</button>
                        </div>
                    </div>
                    
                    <div id="pestaTasks" style="max-height: 300px; overflow-y: auto;">
                        <!-- Tasks will be added here dynamically -->
                    </div>
                </div>
                
                <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px;">
                    <h4 style="color: #fef2f2; margin-bottom: 15px;">üóìÔ∏è Timeline Sugerida</h4>
                    <div style="color: #fecaca;">
                        <p style="margin-bottom: 8px;">üìÖ <strong>At√© 30 Nov:</strong> Email orientador + resposta positiva ‚úÖ CR√çTICO!</p>
                        <p style="margin-bottom: 8px;">üìÖ <strong>Dezembro:</strong> Pesquisa de componentes + Desenho CAD da estrutura</p>
                        <p style="margin-bottom: 8px;">üìÖ <strong>Janeiro:</strong> Compra de materiais + Constru√ß√£o da base</p>
                        <p style="margin-bottom: 8px;">üìÖ <strong>Fevereiro:</strong> Montagem Raspberry Pi + Testes de rota√ß√£o</p>
                        <p style="margin-bottom: 8px;">üìÖ <strong>Mar√ßo:</strong> Dataset para treino + Come√ßar modelo CV</p>
                        <p style="margin-bottom: 8px;">üìÖ <strong>Abril:</strong> Treino e otimiza√ß√£o do modelo</p>
                        <p style="margin-bottom: 8px;">üìÖ <strong>Maio:</strong> Integra√ß√£o completa + Testes de sistema</p>
                        <p style="margin-bottom: 8px;">üìÖ <strong>Junho:</strong> Relat√≥rio + Poster + Apresenta√ß√£o final</p>
                    </div>
                </div>
                
                <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <button onclick="window.open('https://www.notion.so', '_blank')" style="background: #000; flex: 1;">
                        üìì Abrir Notion
                    </button>
                    <button onclick="window.open('https://trello.com', '_blank')" style="background: #0079bf; flex: 1;">
                        üìã Abrir Trello
                    </button>
                    <button onclick="window.open('https://github.com', '_blank')" style="background: #24292e; flex: 1;">
                        üíª GitHub (c√≥digo)
                    </button>
                </div>
            </div>
        </div>
        
        <div class="rotation-schedule">
            <h3>üîÑ Plano Gradual de Estudos (Sem Press√£o!)</h3>
            
            <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #4caf50;">
                <div style="font-weight: bold; color: #2e7d32; margin-bottom: 10px;">üìÖ FASE 1: Nov-in√≠cio Dez (FAMILIARIZA√á√ÉO)</div>
                <div style="color: #2e7d32;">
                    <strong>Objetivo:</strong> Conhecer os conceitos, sem press√£o de dominar tudo<br>
                    <strong>Ritmo:</strong> 1 conceito novo por dia. Repete se n√£o ficou claro!<br>
                    <strong>Segunda:</strong> Eletromag - Bases (Coulomb, campo E, potencial)<br>
                    <strong>Ter√ßa:</strong> Pot√™ncia - O que s√£o sistemas de pot√™ncia + revis√£o CA<br>
                    <strong>Quarta:</strong> VIBON - Movimento oscilat√≥rio b√°sico<br>
                    <strong>Fim de semana:</strong> Rever a semana + come√ßar relat√≥rios aos poucos
                </div>
            </div>
            
            <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
                <div style="font-weight: bold; color: #856404; margin-bottom: 10px;">üìÖ FASE 2: Dez at√© dia 25 (APROFUNDAR)</div>
                <div style="color: #856404;">
                    <strong>Objetivo:</strong> Entender aplica√ß√µes pr√°ticas, come√ßar exerc√≠cios<br>
                    <strong>Ritmo:</strong> Agora podes cobrir 2 conceitos relacionados por sess√£o<br>
                    <strong>Segunda:</strong> Eletromag - Gauss, Ampere, aplica√ß√µes<br>
                    <strong>Ter√ßa:</strong> Pot√™ncia - Dispositivos + come√ßar conversores<br>
                    <strong>Quarta:</strong> VIBON - Ondas mec√¢nicas + EM<br>
                    <strong>Fim de semana:</strong> Exerc√≠cios b√°sicos + relat√≥rios (j√° mais f√°cil!)
                </div>
            </div>
            
            <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #2196f3;">
                <div style="font-weight: bold; color: #1565c0; margin-bottom: 10px;">üìÖ NATAL (26-31 Dez): PAUSA ESTRAT√âGICA</div>
                <div style="color: #1565c0;">
                    <strong>Descansar √© estudar!</strong> Deixa o c√©rebro processar tudo.<br>
                    Se quiseres, faz revis√µes leves (30 min/dia max).<br>
                    <strong>Prioridade:</strong> Terminar relat√≥rios VIBON pendentes de forma relaxada.
                </div>
            </div>
            
            <div style="background: #f3e5f5; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #9c27b0;">
                <div style="font-weight: bold; color: #6a1b9a; margin-bottom: 10px;">üìÖ FASE 3: 1-10 Jan (COMPLETAR + PRATICAR)</div>
                <div style="color: #6a1b9a;">
                    <strong>Objetivo:</strong> Fechar mat√©ria que falta + exerc√≠cios mais dif√≠ceis<br>
                    <strong>Ritmo:</strong> Podes aumentar agora - j√° conheces os conceitos base!<br>
                    <strong>Foco:</strong> T√≥picos que ainda n√£o dominaste + come√ßar exames antigos<br>
                    <strong>Se algo ficou para tr√°s:</strong> SEM P√ÇNICO! Prioriza o mais importante.
                </div>
            </div>
            
            <div style="background: #ffebee; padding: 15px; border-radius: 10px; border-left: 4px solid #f44336;">
                <div style="font-weight: bold; color: #c62828; margin-bottom: 10px;">‚≠ê FASE 4: 10-18 Jan - REVIS√ÉO FINAL</div>
                <div style="color: #c62828;">
                    <strong>Agora sim, acelera!</strong> J√° conheces tudo, √© s√≥ consolidar.<br>
                    <strong>Pot√™ncia:</strong> TREINO de formas de onda (j√° vais estar mais confort√°vel!)<br>
                    <strong>Eletromag:</strong> Exerc√≠cios de Gauss/Ampere/Maxwell repetidamente<br>
                    <strong>VIBON:</strong> Resolver exames antigos + √∫ltimos relat√≥rios<br>
                    <strong>Meta:</strong> 2 exames completos de cada (tens tempo!)
                </div>
            </div>
        </div>
        
        <h2 style="color: #667eea; margin-bottom: 20px;">üìÖ <span id="weekTitle">Semana 1 (18-24 Nov)</span></h2>
        
        <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
            <button onclick="changeWeek(-1)" style="background: #6c757d;">‚óÄ Semana Anterior</button>
            <select id="weekSelector" onchange="selectWeek()" style="padding: 12px 20px; border-radius: 25px; border: 2px solid #667eea; font-size: 1em; cursor: pointer;">
                <option value="0">Semana 1 (18-24 Nov)</option>
                <option value="1">Semana 2 (25 Nov-1 Dez)</option>
                <option value="2">Semana 3 (2-8 Dez)</option>
                <option value="3">Semana 4 (9-15 Dez)</option>
                <option value="4">Semana 5 (16-22 Dez)</option>
                <option value="5">Semana 6 (23-29 Dez - Natal)</option>
                <option value="6">Semana 7 (30 Dez-5 Jan)</option>
                <option value="7">Semana 8 (6-10 Jan)</option>
                <option value="8">Semana 9 (10-18 Jan - Revis√£o Final)</option>
            </select>
            <button onclick="changeWeek(1)" style="background: #6c757d;">Pr√≥xima Semana ‚ñ∂</button>
        </div>
        
        <div class="week-schedule" id="weekContent"></div>
        
        <div class="tips-section green-theme">
            <h3>üí° Estrat√©gias Anti-Ansiedade</h3>
            <ul>
                <li><strong>üêå Vai devagar:</strong> 1 conceito novo por sess√£o √© SUFICIENTE! N√£o tentes cobrir tudo de uma vez.</li>
                <li><strong>üîç Quando encravar:</strong> PARA! V√™ um v√≠deo diferente, procura outro exemplo, ou deixa para o dia seguinte. For√ßar n√£o funciona.</li>
                <li><strong>üì∫ V√≠deos primeiro:</strong> Antes de ler teoria pesada, v√™ 1-2 v√≠deos do YouTube. Ajuda a "pr√©-digerir" o conte√∫do.</li>
                <li><strong>‚úÖ Micro-vit√≥rias:</strong> Percebeste 1 conceito? CELEBRA! Fizeste 1 exerc√≠cio? CONTA! Progresso √© progresso.</li>
                <li><strong>üîÅ Repeti√ß√£o √© normal:</strong> Vais precisar VER o mesmo t√≥pico 2-3 vezes. Isso √© NORMAL em mat√©ria dif√≠cil!</li>
                <li><strong>üí¨ Pede ajuda cedo:</strong> N√£o percebeste? Pergunta a colegas/prof no dia seguinte. N√£o esperes ficar 100% perdido.</li>
                <li><strong>üß† Descanso = Aprendizado:</strong> O c√©rebro processa durante o sono. √Äs vezes dormir resolve mais que estudar mais 1h.</li>
            </ul>
        </div>
        
        <div class="tips-section green-theme">
            <h3>üéØ Abordagem Realista por Disciplina</h3>
            <ul>
                <li><strong>‚ö° Eletromagnetismo:</strong> Come√ßa pelos V√çDEOS (MIT, Khan Academy). A teoria matem√°tica fica mais clara depois de ver aplica√ß√µes pr√°ticas.</li>
                <li><strong>üîå Pot√™ncia (a mais visual!):</strong> DESENHA os circuitos enquanto estudas. Usa simuladores (LTSpice √© gr√°tis) para VER as formas de onda antes de calcular.</li>
                <li><strong>üåä VIBON:</strong> Relat√≥rios podem ser feitos AOS POUCOS durante a semana (30 min por dia). N√£o precisa ser tudo de uma vez!</li>
                <li><strong>Exerc√≠cios:</strong> SEMPRE consulta exemplos resolvidos primeiro. Depois tenta fazer similar. N√£o h√° vergonha em copiar para aprender!</li>
            </ul>
        </div>
        
        <div class="tips-section yellow-theme">
            <h3>‚è∞ Gest√£o de Tempo Realista</h3>
            <ul>
                <li><strong>Semanas 1-4 (Nov-in√≠cio Dez):</strong> Foca em ENTENDER os conceitos base. Velocidade n√£o importa ainda.</li>
                <li><strong>Semanas 5-8 (Dez):</strong> Come√ßa a tentar exerc√≠cios com mais autonomia. Aumenta ritmo gradualmente.</li>
                <li><strong>Semanas 9-10 (at√© 10 Jan):</strong> Completa mat√©ria que faltar. Se ficou algo para tr√°s, sem p√¢nico - ajusta!</li>
                <li><strong>Dias 10-18 Jan:</strong> Agora sim, exerc√≠cios intensivos e exames antigos. Aqui j√° conheces a mat√©ria!</li>
                <li><strong>Se atrasares:</strong> Prioriza Pot√™ncia (mais peso em exame) > Eletromag > VIBON. Ajusta o plano conforme necess√°rio!</li>
            </ul>
        </div>
        
        <div class="tips-section blue-theme">
            <h3>üìö Recursos Espec√≠ficos por T√≥pico</h3>
            <ul>
                <li><strong>Eletromagnetismo - Teorema de Gauss:</strong> MIT OpenCourseWare "8.02 Electricity and Magnetism", Khan Academy Electric Charge</li>
                <li><strong>Eletromagnetismo - Maxwell:</strong> YouTube "Maxwell's Equations" by 3Blue1Brown, apontamentos do prof</li>
                <li><strong>Pot√™ncia - Conversores:</strong> V√≠deos "Power Electronics" - Sam Ben-Yaakov (Israel), simula√ß√µes LTSpice</li>
                <li><strong>Pot√™ncia - Formas de Onda:</strong> Praticar com simulador PSIM ou LTSpice, fazer √† m√£o depois!</li>
                <li><strong>VIBON - MHS:</strong> Khan Academy "Simple Harmonic Motion", Walter Lewin MIT</li>
                <li><strong>VIBON - Ondas EM:</strong> Os mesmos v√≠deos de Maxwell servem + "EM waves" MIT</li>
                <li><strong>VIBON - √ìptica:</strong> "Physics of Light and Color" - Don Pettit, exerc√≠cios de Lei de Snell</li>
                <li><strong>Ferramentas:</strong> Wolfram Alpha (verificar c√°lculos), Anki (flashcards de f√≥rmulas), Notion/OneNote (resumos)</li>
            </ul>
        </div>
        
        <div class="tips-section yellow-theme">
            <h3>üìù Checklist de F√≥rmulas Essenciais</h3>
            <ul>
                <li><strong>Eletromag:</strong> Lei Coulomb, E=‚àáV, ‚àá¬∑E=œÅ/Œµ‚ÇÄ, ‚àá√óE=-‚àÇB/‚àÇt, ‚àá¬∑B=0, ‚àá√óB=Œº‚ÇÄJ+Œº‚ÇÄŒµ‚ÇÄ‚àÇE/‚àÇt</li>
                <li><strong>Pot√™ncia:</strong> Vo_Buck=D¬∑Vin, Vo_Boost=Vin/(1-D), P=V¬∑I¬∑cosœÜ, THD formula</li>
                <li><strong>VIBON:</strong> œâ=2œÄf, v=Œªf, y(x,t)=Asin(kx-œât), n‚ÇÅsinŒ∏‚ÇÅ=n‚ÇÇsinŒ∏‚ÇÇ, Œª_m√≠n=a¬∑sinŒ∏</li>
                <li>Cria um cart√£o com estas f√≥rmulas e rev√™ 5 min por dia!</li>
            </ul>
        </div>
    </div>
    
    <script>
        // Week data structure
        const weeks = [
            // Semana 1
            {
                title: "Semana 1 (18-24 Nov)",
                days: [
                    {
                        name: "Segunda-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "‚ö° Eletromagnetismo<br>‚Ä¢ S√≥ 1 conceito: Lei de Coulomb<br>‚Ä¢ Ler teoria devagar<br>‚Ä¢ Ver 1-2 v√≠deos" },
                            { time: "19:00 - 20:00", subject: "‚ö° Pr√°tica<br>‚Ä¢ 2-3 exerc√≠cios b√°sicos<br>‚Ä¢ Pode consultar tudo!<br>‚Ä¢ Sem pressa" }
                        ]
                    },
                    {
                        name: "Ter√ßa-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üîå Pot√™ncia<br>‚Ä¢ S√≥ conceitos b√°sicos<br>‚Ä¢ O que √© um sistema de pot√™ncia<br>‚Ä¢ Sem press√£o!" },
                            { time: "19:00 - 20:00", subject: "üîå Revis√£o de CA<br>‚Ä¢ Relembrar b√°sicos<br>‚Ä¢ Fasores (se precisar)<br>‚Ä¢ Exemplos simples" }
                        ]
                    },
                    {
                        name: "Quarta-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üåä VIBON<br>‚Ä¢ S√≥ ver o que √© MHS<br>‚Ä¢ Assistir v√≠deos<br>‚Ä¢ Familiarizar com conceito" },
                            { time: "19:00 - 20:00", subject: "üåä Exemplo guiado<br>‚Ä¢ 1 exerc√≠cio passo a passo<br>‚Ä¢ Seguir resolu√ß√£o pronta<br>‚Ä¢ Perceber a l√≥gica" }
                        ]
                    },
                    {
                        name: "Fim de Semana",
                        blocks: [
                            { time: "S√°bado OU Domingo", subject: "üîÅ Rever a semana<br>‚Ä¢ Voltar aos 3 t√≥picos<br>‚Ä¢ Tentar exerc√≠cios sozinho<br>‚Ä¢ 2-3 horas total" },
                            { time: "Quando tiveres √¢nimo", subject: "üìù VIBON Relat√≥rio<br>‚Ä¢ Ou vai fazendo aos poucos<br>‚Ä¢ N√£o precisa terminar hoje<br>‚Ä¢ Progresso > Perfei√ß√£o" }
                        ]
                    }
                ]
            },
            // Semana 2
            {
                title: "Semana 2 (25 Nov-1 Dez)",
                days: [
                    {
                        name: "Segunda-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "‚ö° Eletromagnetismo<br>‚Ä¢ Fazer 2-3 exerc√≠cios Lei de Coulomb<br>‚Ä¢ Ver v√≠deo 'Electric Field'" },
                            { time: "19:00 - 20:00", subject: "‚ö° Campo El√©trico E<br>‚Ä¢ E = F/q (conceito)<br>‚Ä¢ VER exerc√≠cios resolvidos<br>‚Ä¢ Princ√≠pio da sobreposi√ß√£o" }
                        ]
                    },
                    {
                        name: "Ter√ßa-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üîå Pot√™ncia<br>‚Ä¢ Ver v√≠deo sobre harm√≥nicos<br>‚Ä¢ O que √© um sinal 'sujo' vs 'limpo'" },
                            { time: "19:00 - 20:00", subject: "üîå Harm√≥nicos e THD<br>‚Ä¢ VER c√°lculo de THD<br>‚Ä¢ Fator de pot√™ncia (conceito)<br>‚Ä¢ N√£o memorizar ainda!" }
                        ]
                    },
                    {
                        name: "Quarta-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üåä VIBON<br>‚Ä¢ Rever MHS da semana passada<br>‚Ä¢ Fazer 2-3 exerc√≠cios de T, f, œâ" },
                            { time: "19:00 - 20:00", subject: "üåä Relat√≥rio<br>‚Ä¢ Continuar relat√≥rio come√ßado<br>‚Ä¢ Ou come√ßar novo se terminaste<br>‚Ä¢ Meta: 1 completo esta semana" }
                        ]
                    },
                    {
                        name: "Fim de Semana",
                        blocks: [
                            { time: "2-3 horas", subject: "üî¥ PRIORIDADE: Relat√≥rio VIBON<br>‚Ä¢ Terminar 1 relat√≥rio completo<br>‚Ä¢ N√£o deixar acumular!" },
                            { time: "1 hora", subject: "üìù Exerc√≠cios<br>‚Ä¢ Mais Lei de Coulomb<br>‚Ä¢ Campo el√©trico<br>‚Ä¢ Problemas de harm√≥nicos" }
                        ]
                    }
                ]
            },
            // Semana 3
            {
                title: "Semana 3 (2-8 Dez)",
                days: [
                    {
                        name: "Segunda-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "‚ö° Teorema de Gauss<br>‚Ä¢ Ver v√≠deos Khan Academy<br>‚Ä¢ Michel van Biezen (passo a passo)<br>‚Ä¢ LER teoria C1.5" },
                            { time: "19:00 - 20:00", subject: "‚ö° Pr√°tica Gauss<br>‚Ä¢ VER 2-3 exerc√≠cios completos<br>‚Ä¢ Escolher superf√≠cie gaussiana<br>‚Ä¢ Tentar 1 exerc√≠cio simples" }
                        ]
                    },
                    {
                        name: "Ter√ßa-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üîå Dispositivos Semicondutores<br>‚Ä¢ Ver v√≠deo sobre d√≠odos<br>‚Ä¢ Curva I-V do d√≠odo<br>‚Ä¢ LER CP2.1" },
                            { time: "19:00 - 20:00", subject: "üîå Circuitos com D√≠odos<br>‚Ä¢ VER exemplo de circuito<br>‚Ä¢ Retificador simples (conceito)<br>‚Ä¢ Aplica√ß√µes pr√°ticas" }
                        ]
                    },
                    {
                        name: "Quarta-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üåä Movimento Amortecido<br>‚Ä¢ Ver v√≠deo 'Damped Motion'<br>‚Ä¢ Tipos: sub/cr√≠tico/sobre<br>‚Ä¢ LER Cap 1.2" },
                            { time: "19:00 - 20:00", subject: "üåä Exemplos e Relat√≥rio<br>‚Ä¢ Exemplos f√≠sicos (amortecedores)<br>‚Ä¢ VER 1-2 exerc√≠cios<br>‚Ä¢ Come√ßar outro relat√≥rio" }
                        ]
                    },
                    {
                        name: "Fim de Semana",
                        blocks: [
                            { time: "2 horas", subject: "‚ö° GAUSS √â CRUCIAL!<br>‚Ä¢ MUITOS exerc√≠cios de Gauss<br>‚Ä¢ Diferentes geometrias<br>‚Ä¢ Praticar escolha de superf√≠cie" },
                            { time: "1-2 horas", subject: "üìù Relat√≥rio + Revis√£o<br>‚Ä¢ Avan√ßar/terminar relat√≥rio VIBON<br>‚Ä¢ Rever d√≠odos e circuitos b√°sicos" }
                        ]
                    }
                ]
            },
            // Semana 4
            {
                title: "Semana 4 (9-15 Dez)",
                days: [
                    {
                        name: "Segunda-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "‚ö° Potencial El√©trico<br>‚Ä¢ Rela√ß√£o V e E<br>‚Ä¢ Energia e trabalho<br>‚Ä¢ Superf√≠cies equipotenciais" },
                            { time: "19:00 - 20:00", subject: "‚ö° Exerc√≠cios V e E<br>‚Ä¢ C√°lculo de potencial<br>‚Ä¢ Trabalho no campo<br>‚Ä¢ 3-4 problemas" }
                        ]
                    },
                    {
                        name: "Ter√ßa-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üîå Tiristor e GTO<br>‚Ä¢ Funcionamento tiristor<br>‚Ä¢ Curva caracter√≠stica<br>‚Ä¢ Diferen√ßas para GTO" },
                            { time: "19:00 - 20:00", subject: "üîå IGBT e MOSFET<br>‚Ä¢ Estrutura IGBT<br>‚Ä¢ MOSFET de pot√™ncia<br>‚Ä¢ Compara√ß√£o dispositivos" }
                        ]
                    },
                    {
                        name: "Quarta-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üåä Oscilat√≥rio For√ßado<br>‚Ä¢ Resson√¢ncia<br>‚Ä¢ Frequ√™ncia natural<br>‚Ä¢ Ver exemplos pr√°ticos" },
                            { time: "19:00 - 20:00", subject: "üåä Ondas - Introdu√ß√£o<br>‚Ä¢ Cap 2.1-2.2: Tipos de ondas<br>‚Ä¢ Transversal vs longitudinal<br>‚Ä¢ Come√ßar relat√≥rio" }
                        ]
                    },
                    {
                        name: "Fim de Semana",
                        blocks: [
                            { time: "2 horas", subject: "üìù Relat√≥rio VIBON<br>‚Ä¢ Mais 1 relat√≥rio (j√° tens 2-3!)<br>‚Ä¢ Exerc√≠cios de resson√¢ncia" },
                            { time: "1-2 horas", subject: "üîÅ Revis√£o Geral<br>‚Ä¢ Potencial el√©trico<br>‚Ä¢ Dispositivos semicondutores<br>‚Ä¢ Consolidar mat√©ria" }
                        ]
                    }
                ]
            },
            // Semana 5
            {
                title: "Semana 5 (16-22 Dez)",
                days: [
                    {
                        name: "Segunda-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "‚ö° Magnetost√°tica<br>‚Ä¢ Campo magn√©tico B<br>‚Ä¢ Fluxo magn√©tico<br>‚Ä¢ Indu√ß√£o B vs Excita√ß√£o H" },
                            { time: "19:00 - 20:00", subject: "‚ö° Leis Magn√©ticas<br>‚Ä¢ Lei de Lorentz<br>‚Ä¢ Lei de Laplace<br>‚Ä¢ Lei de Biot-Savart<br>‚Ä¢ Ver exemplos" }
                        ]
                    },
                    {
                        name: "Ter√ßa-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üîå PWM - Modula√ß√£o<br>‚Ä¢ O que √© PWM<br>‚Ä¢ Duty cycle D<br>‚Ä¢ Aplica√ß√µes b√°sicas" },
                            { time: "19:00 - 20:00", subject: "üîå Conversor Buck<br>‚Ä¢ An√°lise do Buck (abaixador)<br>‚Ä¢ Vo = D¬∑Vin<br>‚Ä¢ VER formas de onda!" }
                        ]
                    },
                    {
                        name: "Quarta-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üåä Ondas Progressivas<br>‚Ä¢ Cap 2.3: y(x,t) = A¬∑sin(kx-œât)<br>‚Ä¢ N√∫mero de onda k<br>‚Ä¢ Rela√ß√£o v = Œªf" },
                            { time: "19:00 - 20:00", subject: "üåä Equa√ß√£o de Onda<br>‚Ä¢ Cap 2.4: Equa√ß√£o diferencial<br>‚Ä¢ Solu√ß√µes<br>‚Ä¢ Ver exerc√≠cios" }
                        ]
                    },
                    {
                        name: "Fim de Semana",
                        blocks: [
                            { time: "2-3 horas", subject: "üî¥ PWM e Buck!<br>‚Ä¢ DESENHAR formas de onda Buck<br>‚Ä¢ Vin, Vo, VL, IL<br>‚Ä¢ Praticar muito!" },
                            { time: "1-2 horas", subject: "üìù Exerc√≠cios + Relat√≥rio<br>‚Ä¢ Problemas de ondas<br>‚Ä¢ Avan√ßar relat√≥rio VIBON" }
                        ]
                    }
                ]
            },
            // Semana 6 - Natal
            {
                title: "Semana 6 (23-29 Dez - Natal üéÑ)",
                days: [
                    {
                        name: "Dias 23-24 Dez",
                        blocks: [
                            { time: "Ritmo leve", subject: "‚ö° Teorema de Ampere<br>‚Ä¢ C√°lculo de B<br>‚Ä¢ Simetrias: fio, solenoide, toroide<br>‚Ä¢ 1-2 horas s√≥" }
                        ]
                    },
                    {
                        name: "Natal (25 Dez)",
                        blocks: [
                            { time: "DESCANSO!", subject: "üéÑ Feliz Natal!<br>‚Ä¢ Sem estudar hoje<br>‚Ä¢ Aproveita com fam√≠lia<br>‚Ä¢ Descansa o c√©rebro!" }
                        ]
                    },
                    {
                        name: "Dias 26-29 Dez",
                        blocks: [
                            { time: "Sess√µes leves", subject: "üìù Relat√≥rios VIBON<br>‚Ä¢ Terminar pendentes<br>‚Ä¢ Ritmo relaxado<br>‚Ä¢ 1-2h por dia max" },
                            { time: "Revis√£o opcional", subject: "üîÅ Revis√£o suave<br>‚Ä¢ Rever apontamentos<br>‚Ä¢ Ver v√≠deos relaxado<br>‚Ä¢ Sem press√£o!" }
                        ]
                    },
                    {
                        name: "Objetivo da Semana",
                        blocks: [
                            { time: "Meta", subject: "üéØ Descansar √© estudar!<br>‚Ä¢ Deixa o c√©rebro processar<br>‚Ä¢ Recarrega baterias<br>‚Ä¢ Volta forte em Janeiro!" }
                        ]
                    }
                ]
            },
            // Semana 7
            {
                title: "Semana 7 (30 Dez-5 Jan)",
                days: [
                    {
                        name: "Segunda-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "‚ö° Indu√ß√£o Eletromagn√©tica<br>‚Ä¢ Lei de Faraday: Œµ = -dŒ¶/dt<br>‚Ä¢ Lei de Lenz<br>‚Ä¢ Ver v√≠deos explicativos" },
                            { time: "19:00 - 20:00", subject: "‚ö° Aplica√ß√µes<br>‚Ä¢ Auto-indu√ß√£o L<br>‚Ä¢ Indu√ß√£o m√∫tua M<br>‚Ä¢ Exerc√≠cios f.e.m. induzida" }
                        ]
                    },
                    {
                        name: "Ter√ßa-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üîå Conversor Boost<br>‚Ä¢ An√°lise do Boost (elevador)<br>‚Ä¢ Vo = Vin/(1-D)<br>‚Ä¢ Comparar com Buck" },
                            { time: "19:00 - 20:00", subject: "üîå Retificadores Intro<br>‚Ä¢ CP4: O que √© retificar<br>‚Ä¢ N√£o controlado vs controlado<br>‚Ä¢ VER circuitos b√°sicos" }
                        ]
                    },
                    {
                        name: "Quarta-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üåä Sobreposi√ß√£o<br>‚Ä¢ Cap 2.5-2.6<br>‚Ä¢ Interfer√™ncia de ondas<br>‚Ä¢ Construtiva vs destrutiva" },
                            { time: "19:00 - 20:00", subject: "üåä Ondas Estacion√°rias<br>‚Ä¢ Cap 2.7 (SAI SEMPRE!)<br>‚Ä¢ N√≥s e ventres<br>‚Ä¢ Modos normais" }
                        ]
                    },
                    {
                        name: "Fim de Semana",
                        blocks: [
                            { time: "3 horas", subject: "üî¥ Conversores!<br>‚Ä¢ Buck E Boost<br>‚Ä¢ Desenhar TODAS as ondas<br>‚Ä¢ Modo cont√≠nuo/descont√≠nuo" },
                            { time: "2 horas", subject: "üìù Exerc√≠cios variados<br>‚Ä¢ Faraday<br>‚Ä¢ Ondas estacion√°rias<br>‚Ä¢ √öltimos relat√≥rios VIBON!" }
                        ]
                    }
                ]
            },
            // Semana 8
            {
                title: "Semana 8 (6-10 Jan)",
                days: [
                    {
                        name: "Segunda-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "‚ö° Equa√ß√µes de Maxwell<br>‚Ä¢ AS 4 EQUA√á√ïES!<br>‚Ä¢ ‚àá¬∑E, ‚àá¬∑B, ‚àá√óE, ‚àá√óB<br>‚Ä¢ Significado f√≠sico" },
                            { time: "19:00 - 20:00", subject: "‚ö° Materiais Magn√©ticos<br>‚Ä¢ Cap C5: Dia/para/ferromagnetismo<br>‚Ä¢ Ciclo de histerese<br>‚Ä¢ Temperatura de Curie" }
                        ]
                    },
                    {
                        name: "Ter√ßa-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üîå Retificadores Avan√ßados<br>‚Ä¢ Controlados (tiristores)<br>‚Ä¢ Semi-controlados<br>‚Ä¢ Controlo de fase" },
                            { time: "19:00 - 20:00", subject: "üîå TREINO Formas Onda<br>‚Ä¢ Retificadores com filtro<br>‚Ä¢ Vo, IL para v√°rios circuitos<br>‚Ä¢ DESENHAR MUITO!" }
                        ]
                    },
                    {
                        name: "Quarta-feira",
                        blocks: [
                            { time: "18:00 - 19:00", subject: "üåä Ondas Eletromagn√©ticas<br>‚Ä¢ Cap 3: Vers√£o VIBON<br>‚Ä¢ Maxwell aplicado a ondas<br>‚Ä¢ Energia e intensidade" },
                            { time: "19:00 - 20:00", subject: "üåä √ìptica B√°sica<br>‚Ä¢ Cap 4.1: Reflex√£o/refra√ß√£o<br>‚Ä¢ Lei de Snell<br>‚Ä¢ √çndice de refra√ß√£o" }
                        ]
                    },
                    {
                        name: "Fim de Semana (11-12 Jan)",
                        blocks: [
                            { time: "4-5 horas!", subject: "üî• EXAMES ANTERIORES!<br>‚Ä¢ Resolver 1 exame COMPLETO<br>‚Ä¢ De cada disciplina<br>‚Ä¢ Cronometrado!" },
                            { time: "2 horas", subject: "üìù Analisar erros<br>‚Ä¢ Ver onde falhaste<br>‚Ä¢ Rever esses t√≥picos<br>‚Ä¢ Anotar d√∫vidas" }
                        ]
                    }
                ]
            },
            // Semana 9 - Revis√£o Final
            {
                title: "Semana 9 (13-18 Jan - REVIS√ÉO FINAL üî•)",
                days: [
                    {
                        name: "13-14 Jan (Seg-Ter)",
                        blocks: [
                            { time: "4 horas/dia", subject: "‚ö° Eletromagnetismo INTENSIVO<br>‚Ä¢ Gauss, Ampere, Maxwell<br>‚Ä¢ Resolver 2+ exames antigos<br>‚Ä¢ Circuitos magn√©ticos" }
                        ]
                    },
                    {
                        name: "15-16 Jan (Qua-Qui)",
                        blocks: [
                            { time: "4 horas/dia", subject: "üîå Pot√™ncia INTENSIVO<br>‚Ä¢ DESENHAR circuitos!<br>‚Ä¢ Todas as formas de onda<br>‚Ä¢ Resolver 2+ exames antigos" }
                        ]
                    },
                    {
                        name: "17 Jan (Sexta)",
                        blocks: [
                            { time: "4 horas", subject: "üåä VIBON INTENSIVO<br>‚Ä¢ Ondas, √≥ptica, MHS<br>‚Ä¢ Resolver 2+ exames antigos<br>‚Ä¢ Interfer√™ncia/difra√ß√£o" }
                        ]
                    },
                    {
                        name: "18 Jan (S√°bado) - V√âSPERA",
                        blocks: [
                            { time: "Manh√£ leve", subject: "üìù Cart√£o de F√≥rmulas<br>‚Ä¢ Rever TODAS as f√≥rmulas<br>‚Ä¢ 30 min por disciplina<br>‚Ä¢ Sem mat√©ria nova!" },
                            { time: "Tarde/Noite", subject: "üí§ DESCANSAR!<br>‚Ä¢ Dorme cedo<br>‚Ä¢ Come bem<br>‚Ä¢ Exames come√ßam amanh√£!<br>‚Ä¢ TU CONSEGUES! üí™" }
                        ]
                    }
                ]
            }
        ];

        let currentWeek = 0;
        
        // PESTA Project Task Management
        let pestaTasks = [];
        
        function togglePestaDetails() {
            const details = document.getElementById('pestaDetails');
            const icon = document.getElementById('pestaToggleIcon');
            if (details.style.display === 'none') {
                details.style.display = 'block';
                icon.textContent = '‚ñ≤';
            } else {
                details.style.display = 'none';
                icon.textContent = '‚ñº';
            }
        }
        
        function addPestaTask() {
            const input = document.getElementById('pestaTaskInput');
            const taskText = input.value.trim();
            
            if (taskText === '') return;
            
            const task = {
                id: Date.now(),
                text: taskText,
                completed: false,
                createdAt: new Date().toLocaleDateString('pt-PT')
            };
            
            pestaTasks.push(task);
            input.value = '';
            renderPestaTasks();
            savePestaState();
        }
        
        function togglePestaTask(id) {
            const task = pestaTasks.find(t => t.id === id);
            if (task) {
                task.completed = !task.completed;
                renderPestaTasks();
                savePestaState();
            }
        }
        
        function deletePestaTask(id) {
            pestaTasks = pestaTasks.filter(t => t.id !== id);
            renderPestaTasks();
            savePestaState();
        }
        
        function renderPestaTasks() {
            const container = document.getElementById('pestaTasks');
            
            if (pestaTasks.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 20px; color: #fecaca;">
                        <p>üìù Nenhuma tarefa adicionada ainda.</p>
                        <p style="font-size: 0.9em; margin-top: 10px;">Sugest√£o: "Escrever email para Prof. [Nome]"</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            pestaTasks.forEach(task => {
                html += `
                    <div style="background: ${task.completed ? 'rgba(16, 185, 129, 0.2)' : 'rgba(255, 255, 255, 0.1)'}; 
                                padding: 12px; 
                                border-radius: 8px; 
                                margin-bottom: 10px; 
                                display: flex; 
                                align-items: center; 
                                gap: 10px;
                                ${task.completed ? 'opacity: 0.7;' : ''}">
                        <input type="checkbox" 
                               ${task.completed ? 'checked' : ''} 
                               onchange="togglePestaTask(${task.id})"
                               style="width: 20px; height: 20px; cursor: pointer;">
                        <div style="flex: 1;">
                            <div style="color: #fef2f2; ${task.completed ? 'text-decoration: line-through;' : ''}">${task.text}</div>
                            <div style="color: #fecaca; font-size: 0.8em; margin-top: 5px;">üìÖ ${task.createdAt}</div>
                        </div>
                        <button onclick="deletePestaTask(${task.id})" 
                                style="background: rgba(239, 68, 68, 0.5); 
                                       padding: 8px 12px; 
                                       font-size: 0.9em;">üóëÔ∏è</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function savePestaState() {
            localStorage.setItem('pestaTasks', JSON.stringify(pestaTasks));
        }
        
        function loadPestaState() {
            const saved = localStorage.getItem('pestaTasks');
            if (saved) {
                pestaTasks = JSON.parse(saved);
                renderPestaTasks();
            } else {
                // Add default tasks
                pestaTasks = [
                    {
                        id: 1,
                        text: 'üìß Escrever email para potencial orientador',
                        completed: false,
                        createdAt: new Date().toLocaleDateString('pt-PT')
                    },
                    {
                        id: 2,
                        text: 'üîç Pesquisar docentes ISEP na √°rea de automa√ß√£o/vis√£o computacional',
                        completed: false,
                        createdAt: new Date().toLocaleDateString('pt-PT')
                    },
                    {
                        id: 3,
                        text: 'üìù Preparar descri√ß√£o do projeto (1 p√°gina)',
                        completed: false,
                        createdAt: new Date().toLocaleDateString('pt-PT')
                    }
                ];
                renderPestaTasks();
            }
        }
        
        // Allow Enter key to add task
        document.addEventListener('DOMContentLoaded', function() {
            const input = document.getElementById('pestaTaskInput');
            if (input) {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        addPestaTask();
                    }
                });
            }
        });

        function renderWeek(weekIndex) {
            const week = weeks[weekIndex];
            const container = document.getElementById('weekContent');
            document.getElementById('weekTitle').textContent = week.title;
            document.getElementById('weekSelector').value = weekIndex;
            
            let html = '';
            week.days.forEach(day => {
                html += `<div class="day-card"><h3>${day.name}</h3>`;
                day.blocks.forEach(block => {
                    html += `
                        <div class="study-block" onclick="toggleComplete(this)">
                            <span class="time">${block.time}</span>
                            <span class="subject">${block.subject}</span>
                        </div>
                    `;
                });
                html += '</div>';
            });
            
            container.innerHTML = html;
        }

        function changeWeek(direction) {
            currentWeek += direction;
            if (currentWeek < 0) currentWeek = 0;
            if (currentWeek >= weeks.length) currentWeek = weeks.length - 1;
            renderWeek(currentWeek);
        }

        function selectWeek() {
            currentWeek = parseInt(document.getElementById('weekSelector').value);
            renderWeek(currentWeek);
        }

        // Calculate days until start of exams
        function updateCountdown() {
            const examDate = new Date('2026-01-19');
            const today = new Date();
            const diffTime = examDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            document.getElementById('daysLeft').textContent = diffDays;
            
            // PESTA deadline (end of November)
            const pestaDeadline = new Date('2025-11-30');
            const pestaDiffTime = pestaDeadline - today;
            const pestaDiffDays = Math.ceil(pestaDiffTime / (1000 * 60 * 60 * 24));
            const pestaElement = document.getElementById('pestaDeadline');
            if (pestaElement) {
                pestaElement.textContent = pestaDiffDays > 0 ? pestaDiffDays : '0';
                if (pestaDiffDays <= 3) {
                    pestaElement.style.color = '#dc2626';
                    pestaElement.style.fontWeight = 'bold';
                }
            }
        }
        
        // Toggle PESTA organizer visibility
        function togglePestaOrganizer() {
            const organizer = document.getElementById('pestaOrganizer');
            if (organizer.style.display === 'none') {
                organizer.style.display = 'block';
                loadPestaState();
                updatePestaProgress();
            } else {
                organizer.style.display = 'none';
            }
        }
        
        // Save PESTA state to localStorage
        function savePestaState() {
            const state = {
                tasks: {},
                notes: document.getElementById('pestaNotesInput').value
            };
            
            // Save all checkboxes
            for (let i = 1; i <= 28; i++) {
                const checkbox = document.getElementById('pesta-' + i);
                if (checkbox) {
                    state.tasks['pesta-' + i] = checkbox.checked;
                }
            }
            
            localStorage.setItem('pestaState', JSON.stringify(state));
            updatePestaProgress();
        }
        
        // Load PESTA state from localStorage
        function loadPestaState() {
            const saved = localStorage.getItem('pestaState');
            if (saved) {
                const state = JSON.parse(saved);
                
                // Restore checkboxes
                for (const [id, checked] of Object.entries(state.tasks)) {
                    const checkbox = document.getElementById(id);
                    if (checkbox) {
                        checkbox.checked = checked;
                    }
                }
                
                // Restore notes
                if (state.notes) {
                    document.getElementById('pestaNotesInput').value = state.notes;
                }
            }
        }
        
        // Update PESTA progress bar
        function updatePestaProgress() {
            let completed = 0;
            const total = 28;
            
            for (let i = 1; i <= total; i++) {
                const checkbox = document.getElementById('pesta-' + i);
                if (checkbox && checkbox.checked) {
                    completed++;
                }
            }
            
            const percentage = Math.round((completed / total) * 100);
            const progressBar = document.getElementById('pestaProgressBar');
            const progressText = document.getElementById('pestaProgressText');
            
            if (progressBar) {
                progressBar.style.width = percentage + '%';
                progressBar.textContent = percentage + '%';
            }
            
            if (progressText) {
                progressText.textContent = completed + '/' + total + ' tarefas';
            }
        }
        
        // Toggle completion of study blocks
        function toggleComplete(element) {
            element.classList.toggle('completed');
            saveState();
        }
        
        // Update progress bars
        function updateProgress(amount) {
            const subjects = ['electro', 'power', 'vibon'];
            subjects.forEach(subject => {
                const bar = document.getElementById(subject + '-bar');
                const percent = document.getElementById(subject + '-percent');
                let currentValue = parseInt(bar.style.width) || 0;
                currentValue = Math.min(currentValue + amount, 100);
                bar.style.width = currentValue + '%';
                bar.textContent = currentValue + '%';
                percent.textContent = currentValue + '%';
            });
            saveState();
        }
        
        // Reset progress
        function resetProgress() {
            if (confirm('Tens a certeza que queres reiniciar o progresso?')) {
                const subjects = ['electro', 'power', 'vibon'];
                subjects.forEach(subject => {
                    const bar = document.getElementById(subject + '-bar');
                    const percent = document.getElementById(subject + '-percent');
                    bar.style.width = '0%';
                    bar.textContent = '0%';
                    percent.textContent = '0%';
                });
                
                document.querySelectorAll('.study-block').forEach(block => {
                    block.classList.remove('completed');
                });
                saveState();
            }
        }
        
        // Save state to localStorage
        function saveState() {
            const state = {
                electro: document.getElementById('electro-bar').style.width,
                power: document.getElementById('power-bar').style.width,
                vibon: document.getElementById('vibon-bar').style.width,
                completed: []
            };
            
            document.querySelectorAll('.study-block.completed').forEach((block, index) => {
                state.completed.push(index);
            });
            
            localStorage.setItem('studyProgress', JSON.stringify(state));
        }
        
        // Load state from localStorage
        function loadState() {
            const saved = localStorage.getItem('studyProgress');
            if (saved) {
                const state = JSON.parse(saved);
                
                ['electro', 'power', 'vibon'].forEach(subject => {
                    const bar = document.getElementById(subject + '-bar');
                    const percent = document.getElementById(subject + '-percent');
                    bar.style.width = state[subject] || '0%';
                    bar.textContent = state[subject] || '0%';
                    percent.textContent = state[subject] || '0%';
                });
                
                const blocks = document.querySelectorAll('.study-block');
                state.completed.forEach(index => {
                    if (blocks[index]) {
                        blocks[index].classList.add('completed');
                    }
                });
            }
        }
        
        // Download schedule as text
        function downloadSchedule() {
            const text = `
ROTINA DE ESTUDOS - EXAMES JANEIRO 2025
========================================

HOR√ÅRIOS DISPON√çVEIS:
- Segunda, Ter√ßa, Quarta: 18:00-20:00
- Fins de semana: Flex√≠vel (3-4 horas)

ROTA√á√ÉO SEMANAL:
Semana 1, 4, 7, 10: Seg-Eletromag | Ter-Eletr√≥nica | Qua-VIBON
Semana 2, 5, 8: Seg-Eletr√≥nica | Ter-VIBON | Qua-Eletromag
Semana 3, 6, 9: Seg-VIBON | Ter-Eletromag | Qua-Eletr√≥nica

PRIORIDADES:
‚úì Eletromagnetismo: Exerc√≠cios pr√°ticos intensivos
‚úì Eletr√≥nica Pot√™ncia: Simula√ß√µes e problemas
‚úì VIBON: Relat√≥rios aos fins de semana + teoria

DICAS:
- T√©cnica Pomodoro: 25min estudo + 5min pausa
- Relat√≥rios VIBON: 1 por fim de semana
- Dezembro: Come√ßar exames anteriores
- Janeiro: Revis√£o intensiva final
            `;
            
            const blob = new Blob([text], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'rotina_estudos_janeiro2025.txt';
            a.click();
        }
        
        // Initialize
        updateCountdown();
        loadState();
        loadPestaState(); // Load PESTA project tasks
        renderWeek(0); // Load first week on start
        setInterval(updateCountdown, 3600000); // Update every hour
    </script>
</body>
</html>